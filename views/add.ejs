<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <title>Add</title>
</head>
<body>
    <h2>Enter the Deatils for the New Product</h2>
    <form action="/products/add" method="post">
        <div>
            <div>
                <label for="ProductName">ProductName</label>
            </div>
            <div>
                <input type="text" id="ProductName" name="ProductName" required>
            </div>
        </div>
        <div>
            <div>
                <label for="Unit">Unit</label>
            </div>
            <div>
                <input type="text" id="Unit" name="Unit" required>
            </div>
        </div>
        <div>
            <div>
                <label for="Price">Price</label>
            </div>
            <div>
                <input type="text" id="Price" name="Price" required>
            </div>
        </div>
        <div>
           <label for="selectedCategory">Choose a category:</label><br>
            <select name="selectedCategory" id="selectedCategory">
                <option value="select a category">--Select--</option>
                <% for(var i = 0; i < categorylist.length ; i++){ %>
                <option value="<%= categorylist[i]['name'] %>"><%= categorylist[i]['name'] %></option>
                <% } %>
            </select>
        </div>
        <div class="error"><p></p></div>
        <button class="validate" type="button">Validate</button>
        <button class="submit" type="submit">Add to Table</button>
        <a href="/products"><button type="button">Cancel</button></a>
    </form>

<script type="text/javascript">
    $('.submit').hide();
    $('.validate').click('button',function(){
        var price = $("input[name = Price]").val();
        if ( price%1 !== 0){
            $('.error p').text("Please Enter Valid Numbers in Price Field").css("color","red");
        }
        else{
            $('.error p').text("");
            $('.submit').show();
            $('.validate').hide();
        }
    })
</script>
</body>
</html>